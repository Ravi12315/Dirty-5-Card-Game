Manager:
    StartScreen:
    MainScreen:
    SecondScreen:
    ThirdScreen:
    OwnDesk:

<StartScreen>:
    name: "start"

    Image:
        source: "table.jpg"
        allow_stretch: True
        keep_ratio: False
    Label:
        text: "DIRTY Five"
        bold: True
        pos_hint: {'center_x':.5, 'center_y':.9}
        font_size: 40
        color: 1,0,0,1

    Image:
        source: "mainicon.jpg"
        pos_hint: {'center_x':.5, 'center_y':.6}
        allow_stretch: False
        keep_ratio: False
    Button:
        text: "Play!"
        background_color: 1, 1, 0,1
        size_hint: 0.4, 0.1
        pos_hint: {'center_x':.5, 'center_y':.2}
        font_size: 20
        on_release:
            root.manager.current = "main"


<MainScreen>:
    name: "main"


    Image:
        source: "table.jpg"
        allow_stretch: True
        keep_ratio: False
    Button:
        text: "Own Room"
        background_color: 1, 1, 0,1
        size_hint: 0.4, 0.1
        pos_hint: {'center_x':.5, 'center_y':.7}
        font_size: 20
        on_release:
            app.root.current = "third"

    Button:
        text: "Friend's Room"
        background_color: 1, 1, 0,1
        size_hint: 0.4, 0.1
        pos_hint: {'center_x':.5, 'center_y':.5}
        font_size: 20
        on_release:
            root.manager.current = "second"

<SecondScreen>:
    id: second
    name: "second"


    Image:
        source: "table.jpg"
        allow_stretch: True
        keep_ratio: False

    Label:
        text: "Enter your Name :"
        bold: True
        pos_hint: {'center_x':.5, 'center_y':.7}
        font_size: 30
        color: 1,0,0,1

    TextInput:
        id: p_name
        size_hint: 0.5, 0.08
        pos_hint: {'center_x':.5, 'center_y':.6}
        multiline: False

    Button:
        text: "Let's Play!"
        background_color: 1, 1, 0,1
        size_hint: 0.4, 0.1
        pos_hint: {'center_x':.5, 'center_y':.4}
        font_size: 20
        on_press:
            app.text = p_name.text
        on_release:
            app.root.current = "owndesk" #if p_name.text == "ravi" else "second"

    Button:
        text: "Back"
        background_color: 1, 1, 0,1
        size_hint: 0.3, 0.05
        pos_hint: {'center_x':.2, 'center_y':.9}
        font_size: 20
        on_release:
            app.root.current = "third"
            root.manager.transition.direction = "left"

<ThirdScreen>:
    id: third
    name: "third"


    Image:
        source: "table.jpg"
        allow_stretch: True
        keep_ratio: False
    Button:
        id: b1
        text: "2 Player"
        background_color: 1, 1, 0,1
        size_hint: 0.4, 0.1
        pos_hint: {'center_x':.5, 'center_y':.7}
        font_size: 20
        on_press:
            app.player_count = b1.text #app.player_count(b1.text)
        on_release:
            app.root.current = "second"

    Button:
        id: b2
        text: "3 Player"
        background_color: 1, 1, 0,1
        size_hint: 0.4, 0.1
        pos_hint: {'center_x':.5, 'center_y':.6}
        font_size: 20
        on_press:
            app.player_count = b2.text #app.player_count(b2.text)
        on_release:
            app.root.current = "second"

    Button:
        id: b3
        text: "4 Player"
        background_color: 1, 1, 0,1
        size_hint: 0.4, 0.1
        pos_hint: {'center_x':.5, 'center_y':.5}
        font_size: 20
        on_press:
            app.player_count = b3.text #app.player_count(b3.text)
        on_release:
            app.root.current = "second"

    Button:
        id: b4
        text: "5 Player"
        background_color: 1, 1, 0,1
        size_hint: 0.4, 0.1
        pos_hint: {'center_x':.5, 'center_y':.4}
        font_size: 20
        on_press:
            app.player_count = b4.text #app.player_count(b4.text)
        on_release:
            app.root.current = "second"

    Button:
        id: b5
        text: "6 Player"
        background_color: 1, 1, 0,1
        size_hint: 0.4, 0.1
        pos_hint: {'center_x':.5, 'center_y':.3}
        font_size: 20
        on_press:
            app.player_count = b5.text #app.player_count(b5.text)
        on_release:
            app.root.current = "second"

    Button:
        text: "Back"
        background_color: 1, 1, 0,1
        size_hint: 0.3, 0.05
        pos_hint: {'center_x':.2, 'center_y':.9}
        font_size: 20
        on_release:
            app.root.current = "main"
            root.manager.transition.direction = "left"

<OwnDesk>:
    name: "owndesk"
    id: owndesk
    img: ''
    Image:
        source: "table.jpg"
        allow_stretch: True
        keep_ratio: False
    Image:
        source: "owndesk.jpg"
        pos_hint: {'center_x':.5, 'center_y':.1}
        allow_stretch: False
        keep_ratio: False
    Image:
        source: root.img
        pos_hint: {'center_x':.5, 'center_y':.5}
        allow_stretch: False
        keep_ratio: False
    Image:
        source: 'opposite.png'
        pos_hint: {'center_x':.5, 'center_y':.94}
        size_hint: 0.2, 0.2
    Image:
        source: 'right.png'
        pos_hint: {'center_x':.9, 'center_y':.8}
        size_hint: 0.2, 0.2
    Image:
        source: 'right.png'
        pos_hint: {'center_x':.9, 'center_y':.6}
        size_hint: 0.2, 0.2
    Image:
        source: 'left.png'
        pos_hint: {'center_x':.1, 'center_y':.8}
        size_hint: 0.2, 0.2
    Image:
        source: 'left.png'
        pos_hint: {'center_x':.1, 'center_y':.6}
        size_hint: 0.2, 0.2
    Image:
        source: 'playericon.png'
        pos_hint: {'center_x':.5, 'center_y':.43}
        size_hint: 0.2, 0.2

    Button:
        id: myButton
        pos_hint: {'center_x':.85, 'center_y':.45}
        size_hint: 0.2, 0.1
        on_press: app.do()
    Image:
        source: "back.jpg"
        pos_hint: {'center_x':.85, 'center_y':.45}
        size_hint: 0.3, 0.3
    Label:
        on_text: print(app.text)
        bold: True
        pos_hint: {'center_x':.5, 'center_y':.5}
        font_size: 30
        color: 1,0,0,1